<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Uses and Aliases</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="modules-and-scripts.html"><strong aria-hidden="true">1.</strong> Modules and Scripts</a></li><li class="chapter-item expanded "><a href="creating-coins.html"><strong aria-hidden="true">2.</strong> First Tutorial: Creating Coins</a></li><li class="chapter-item expanded "><a href="integers.html"><strong aria-hidden="true">3.</strong> Integers</a></li><li class="chapter-item expanded "><a href="bool.html"><strong aria-hidden="true">4.</strong> Bool</a></li><li class="chapter-item expanded "><a href="address.html"><strong aria-hidden="true">5.</strong> Address</a></li><li class="chapter-item expanded "><a href="vector.html"><strong aria-hidden="true">6.</strong> Vector</a></li><li class="chapter-item expanded "><a href="signer.html"><strong aria-hidden="true">7.</strong> Signer</a></li><li class="chapter-item expanded "><a href="references.html"><strong aria-hidden="true">8.</strong> References</a></li><li class="chapter-item expanded "><a href="tuples.html"><strong aria-hidden="true">9.</strong> Tuples and Unit</a></li><li class="chapter-item expanded "><a href="variables.html"><strong aria-hidden="true">10.</strong> Local Variables and Scopes</a></li><li class="chapter-item expanded "><a href="equality.html"><strong aria-hidden="true">11.</strong> Equality</a></li><li class="chapter-item expanded "><a href="abort-and-assert.html"><strong aria-hidden="true">12.</strong> Abort and Assert</a></li><li class="chapter-item expanded "><a href="conditionals.html"><strong aria-hidden="true">13.</strong> Conditionals</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">14.</strong> While and Loop</a></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">15.</strong> Functions</a></li><li class="chapter-item expanded "><a href="structs-and-resources.html"><strong aria-hidden="true">16.</strong> Structs and Resources</a></li><li class="chapter-item expanded "><a href="constants.html"><strong aria-hidden="true">17.</strong> Constants</a></li><li class="chapter-item expanded "><a href="generics.html"><strong aria-hidden="true">18.</strong> Generics</a></li><li class="chapter-item expanded "><a href="abilities.html"><strong aria-hidden="true">19.</strong> Type Abilities</a></li><li class="chapter-item expanded "><a href="uses.html" class="active"><strong aria-hidden="true">20.</strong> Uses and Aliases</a></li><li class="chapter-item expanded "><a href="friends.html"><strong aria-hidden="true">21.</strong> Friends</a></li><li class="chapter-item expanded "><a href="global-storage-structure.html"><strong aria-hidden="true">22.</strong> Global Storage Structure</a></li><li class="chapter-item expanded "><a href="global-storage-operators.html"><strong aria-hidden="true">23.</strong> Global Storage Operators</a></li><li class="chapter-item expanded "><a href="standard-library.html"><strong aria-hidden="true">24.</strong> Standard Library</a></li><li class="chapter-item expanded "><a href="coding-conventions.html"><strong aria-hidden="true">25.</strong> Coding Conventions</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="uses-and-aliases"><a class="header" href="#uses-and-aliases">Uses and Aliases</a></h1>
<p>The <code>use</code> syntax can be used to create aliases to members in other modules. <code>use</code> can be used to create aliases that last either for the entire module, or for a given expression block scope.</p>
<h2 id="syntax"><a class="header" href="#syntax">Syntax</a></h2>
<p>There are several different syntax cases for <code>use</code>. Starting with the most simple, we have the following for creating aliases to other modules</p>
<pre><code class="language-move">use &lt;address&gt;::&lt;module name&gt;;
use &lt;address&gt;::&lt;module name&gt; as &lt;module alias name&gt;;
</code></pre>
<p>For example</p>
<pre><code class="language-move">use Std::Vector;
use Std::Vector as V;
</code></pre>
<p><code>use Std::Vector;</code> introduces an alias <code>Vector</code> for <code>Std::Vector</code>. This means that anywhere you would want to use the module name <code>Std::Vector</code> (assuming this <code>use</code> is in scope), you could use <code>Vector</code> instead. <code>use Std::Vector;</code>  is equivalent to <code>use Std::Vector as Vector;</code></p>
<p>Similarly <code>use Std::Vector as V;</code> would let you use <code>V</code> instead of <code>Std::Vector</code></p>
<pre><code class="language-move=">use Std::Vector;
use Std::Vector as V;

fun new_vecs(): (vector&lt;u8&gt;, vector&lt;u8&gt;, vector&lt;u8&gt;) {
    let v1 = Std::Vector::empty();
    let v2 = Vector::empty();
    let v3 = V::empty();
    (v1, v2, v3)
}
</code></pre>
<p>If you want to import a specific module member (such as a function, struct, or constant). You can use the following syntax.</p>
<pre><code class="language-move">use &lt;address&gt;::&lt;module name&gt;::&lt;module member&gt;;
use &lt;address&gt;::&lt;module name&gt;::&lt;module member&gt; as &lt;member alias&gt;;
</code></pre>
<p>For example</p>
<pre><code class="language-move">use Std::Vector::empty;
use Std::Vector::empty as empty_vec;
</code></pre>
<p>This would let you use the function <code>Std::Vector::empty</code> without full qualification. Instead you could use <code>empty</code> and <code>empty_vec</code> respectively. Again, <code>use Std::Vector::empty;</code> is equivalent to <code>use Std::Vector::empty as empty;</code></p>
<pre><code class="language-move=">use Std::Vector::empty;
use Std::Vector::empty as empty_vec;

fun new_vecs(): (vector&lt;u8&gt;, vector&lt;u8&gt;, vector&lt;u8&gt;) {
    let v1 = Std::Vector::empty();
    let v2 = empty();
    let v3 = empty_vec();
    (v1, v2, v3)
}
</code></pre>
<p>If you want to add aliases for multiple module members at once, you can do so with the following syntax</p>
<pre><code class="language-move">use &lt;address&gt;::&lt;module name&gt;::{&lt;module member&gt;, &lt;module member&gt; as &lt;member alias&gt; ... };
</code></pre>
<p>For example</p>
<pre><code class="language-move=">use Std::Vector::{push_back, length as len, pop_back};

fun swap_last_two&lt;T&gt;(v: &amp;mut vector&lt;T&gt;) {
    assert(len(v) &gt;= 2, 42);
    let last = pop_back(v);
    let second_to_last = pop_back(v);
    push_back(v, last);
    push_back(v, second_to_last)
}
</code></pre>
<p>If you need to add an alias to the Module itself in addition to module members, you can do that in a single <code>use</code> using <code>Self</code>. <code>Self</code> is a member of sorts that refers to the module.</p>
<pre><code class="language-move">use Std::Vector::{Self, empty};
</code></pre>
<p>For clarity, all of the following are equivalent:</p>
<pre><code class="language-move">use Std::Vector;
use Std::Vector as Vector;
use Std::Vector::Self;
use Std::Vector::Self as Vector;
use Std::Vector::{Self};
use Std::Vector::{Self as Vector};
</code></pre>
<p>If needed, you can have as many aliases for any item as you like</p>
<pre><code class="language-move=">use Std::Vector::{
    Self,
    Self as V,
    length,
    length as len,
};

fun pop_twice&lt;T&gt;(v: &amp;mut vector&lt;T&gt;): (T, T) {
    // all options available given the `use` above
    assert(Vector::length(v) &gt; 1, 42);
    assert(V::length(v) &gt; 1, 42);
    assert(length(v) &gt; 1, 42);
    assert(len(v) &gt; 1, 42);

    (Vector::pop_back(v), Vector::pop_back(v))
}
</code></pre>
<h2 id="inside-a-module"><a class="header" href="#inside-a-module">Inside a <code>module</code></a></h2>
<p>Inside of a <code>module</code> all <code>use</code> declarations are usable regardless of the order of declaration.</p>
<pre><code class="language-move=">address 0x42 {
module Example {
    use Std::Vector;

    fun example(): vector&lt;u8&gt; {
        let v = empty();
        Vector::push_back(&amp;mut v, 0);
        Vector::push_back(&amp;mut v, 10);
        v
    }

    use Std::Vector::empty;
}
}
</code></pre>
<p>The aliases declared by <code>use</code> in the module usable within that module.</p>
<p>Additionally, the aliases introduced cannot conflict with other module members. See <a href="#uniqueness">Uniqueness</a> for more details</p>
<h2 id="inside-an-expression"><a class="header" href="#inside-an-expression">Inside an expression</a></h2>
<p>You can add <code>use</code> declarations to the beginning of any expression block</p>
<pre><code class="language-move=">address 0x42 {
module Example {

    fun example(): vector&lt;u8&gt; {
        use Std::Vector::{empty, push_back};

        let v = empty();
        push_back(&amp;mut v, 0);
        push_back(&amp;mut v, 10);
        v
    }
}
}
</code></pre>
<p>As with <code>let</code>, the aliases introduced by <code>use</code> in an expression block are removed at the end of that block.</p>
<pre><code class="language-move=">address 0x42 {
module Example {

    fun example(): vector&lt;u8&gt; {
        let result = {
            use Std::Vector::{empty, push_back};
            let v = empty();
            push_back(&amp;mut v, 0);
            push_back(&amp;mut v, 10);
            v
        };
        result
    }

}
}
</code></pre>
<p>Attempting to use the alias after the block ends will result in an error</p>
<pre><code class="language-move=">fun example(): vector&lt;u8&gt; {
    let result = {
        use Std::Vector::{empty, push_back};
        let v = empty();
        push_back(&amp;mut v, 0);
        push_back(&amp;mut v, 10);
        v
    };
    let v2 = empty(); // ERROR!
//           ^^^^^ unbound function 'empty'
    result
}
</code></pre>
<p>Any <code>use</code> must be the first item in the block. If the <code>use</code> comes after any expression or <code>let</code>, it will result in a parsing error</p>
<pre><code class="language-move=">{
    let x = 0;
    use Std::Vector; // ERROR!
    let v = Vector::empty();
}
</code></pre>
<h2 id="naming-rules"><a class="header" href="#naming-rules">Naming rules</a></h2>
<p>Aliases must follow the same rules as other module members. This means that aliases to structs or constants must start with <code>A</code> to <code>Z</code></p>
<pre><code class="language-move=">address 0x42 {
module Data {
    struct S {}
    const FLAG: bool = false;
    fun foo() {}
}
module Example {
    use 0x42::Data::{
        S as s, // ERROR!
        FLAG as fLAG, // ERROR!
        foo as FOO,  // valid
        foo as bar, // valid
    };
}
}
</code></pre>
<h2 id="uniqueness"><a class="header" href="#uniqueness">Uniqueness</a></h2>
<p>Inside a given scope, all aliases introduced by <code>use</code> declarations must be unique.</p>
<p>For a module, this means aliases introduced by <code>use</code> cannot overla</p>
<pre><code class="language-move=">address 0x42 {
module Example {

    use Std::Vector::{empty as foo, length as foo}; // ERROR!
    //                                        ^^^ duplicate 'foo'

    use Std::Vector::empty as bar;

    use Std::Vector::length as bar; // ERROR!
    //                         ^^^ duplicate 'bar'

}
}
</code></pre>
<p>And, they cannot overlap with any of the module's other members</p>
<pre><code class="language-move=">address 0x42 {
module Data {
    struct S {}
}
module Example {
    use 0x42::Data::S;

    struct S { value: u64 } // ERROR!
    //     ^ conflicts with alias 'S' above
}
}
</code></pre>
<p>Inside of an expression block, they cannot overlap with each other, but they can <a href="#shadowing">shadow</a> other aliases or names from an outer scope</p>
<h2 id="shadowing"><a class="header" href="#shadowing">Shadowing</a></h2>
<p><code>use</code> aliases inside of an expression block can shadow names (module members or aliases) from the outer scope. As with shadowing of locals, the shadowing ends at the end of the expression block;</p>
<pre><code class="language-move=">address 0x42 {
module Example {

    struct WrappedVector { vec: vector&lt;u64&gt; }

    fun empty(): WrappedVector {
        WrappedVector { vec: Std::Vector::empty() }
    }

    fun example1(): (WrappedVector, WrappedVector) {
        let vec = {
            use Std::Vector::{empty, push_back};
            // 'empty' now refers to Std::Vector::empty

            let v = empty();
            push_back(&amp;mut v, 0);
            push_back(&amp;mut v, 1);
            push_back(&amp;mut v, 10);
            v
        };
        // 'empty' now refers to Self::empty

        (empty(), WrappedVector { vec })
    }

    fun example2(): (WrappedVector, WrappedVector) {
        use Std::Vector::{empty, push_back};
        let w: WrappedVector = {
            use 0x42::Example::empty;
            empty()
        };
        push_back(&amp;mut w.vec, 0);
        push_back(&amp;mut w.vec, 1);
        push_back(&amp;mut w.vec, 10);

        let vec = empty();
        push_back(&amp;mut vec, 0);
        push_back(&amp;mut vec, 1);
        push_back(&amp;mut vec, 10);

        (w, WrappedVector { vec })
    }
}
}
</code></pre>
<h2 id="unused-use-or-alias"><a class="header" href="#unused-use-or-alias">Unused Use or Alias</a></h2>
<p>An unused <code>use</code> will result in an error</p>
<pre><code class="language-move=">address 0x42 {
module Example {
    use Std::Vector::{empty, push_back}; // ERROR!
    //                       ^^^^^^^^^ unused alias 'push_back'

    fun example(): vector&lt;u8&gt; {
        empty()
    }
}
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="abilities.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="friends.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="abilities.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="friends.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
