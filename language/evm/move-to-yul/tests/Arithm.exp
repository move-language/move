/* =======================================
 * Generated by Move-To-Yul compiler v0.0
 * ======================================= */

/// @use-src 2:"tests/Arithm.move"

object "A2_M" {
    code {
        codecopy(0, dataoffset("A2_M_deployed"), datasize("A2_M_deployed"))
        return(0, datasize("A2_M_deployed"))
    }
    object "A2_M_deployed" {
        code {
            function A2_M_add_two_number(x, y) -> $result0, $result1 {
                let res, z, $t4, $t5
                /// @src 2:309:310
                $t4 := $AddU64(x, y)
                $t5 := 3
                /// @src 2:334:342
                $result0 := $t5
                $result1 := $t4
            }

            function A2_M_arithmetic_ops(a) -> $result0, $result1 {
                let c, $t2, $t3, $t4, $t5
                let $block := 4
                for {} true {} {
                    switch $block
                    case 2 {
                        $t5 := 42
                        $Abort($t5)
                    }
                    case 3 {
                        /// @src 2:1362:1368
                        $result0 := $t2
                        $result1 := a
                        leave
                    }
                    case 4 {
                        $t2 := 2
                        $t3 := 2
                        /// @src 2:1338:1340
                        $t4 := $Neq($t2, $t3)
                        /// @src 2:1332:1352
                        switch $t4
                        case 0  { $block := 3 }
                        default { $block := 2 }
                    }
                }
            }

            function A2_M_bool_ops(a, b) -> $result0, $result1 {
                let tmp_$2, tmp_$3, c, d, $t6, $t7, $t8, $t9, $t10, $t11, $t12
                let $block := 4
                for {} true {} {
                    switch $block
                    case 2 {
                        /// @src 2:978:980
                        tmp_$2 := $GtEq(a, b)
                        /// @src 2:967:982
                        $block := 5
                    }
                    case 3 {
                        $t7 := false
                        /// @src 2:967:982
                        tmp_$2 := $t7
                        /// @src 2:967:982
                        $block := 5
                    }
                    case 4 {
                        /// @src 2:969:970
                        $t6 := $Gt(a, b)
                        /// @src 2:967:982
                        switch $t6
                        case 0  { $block := 3 }
                        default { $block := 2 }
                    }
                    case 5 {
                        /// @src 2:998:999
                        $t8 := $Lt(a, b)
                        /// @src 2:996:1011
                        switch $t8
                        case 0  { $block := 7 }
                        default { $block := 6 }
                    }
                    case 6 {
                        $t9 := true
                        /// @src 2:996:1011
                        tmp_$3 := $t9
                        /// @src 2:996:1011
                        $block := 8
                    }
                    case 7 {
                        /// @src 2:1007:1009
                        tmp_$3 := $LtEq(a, b)
                        /// @src 2:996:1011
                        $block := 8
                    }
                    case 8 {
                        /// @src 2:1029:1031
                        $t10 := $Neq(tmp_$2, tmp_$3)
                        /// @src 2:1025:1026
                        $t11 := $LogicalNot($t10)
                        /// @src 2:1021:1044
                        switch $t11
                        case 0  { $block := 10 }
                        default { $block := 9 }
                    }
                    case 9 {
                        $t12 := 42
                        $Abort($t12)
                    }
                    case 10 {
                        /// @src 2:1054:1060
                        $result0 := tmp_$2
                        $result1 := tmp_$3
                        leave
                    }
                }
            }

            function A2_M_div(x, y) -> $result0, $result1 {
                let $t2, $t3
                /// @src 2:536:537
                $t2 := $Div(x, y)
                /// @src 2:543:544
                $t3 := $Mod(x, y)
                /// @src 2:533:547
                $result0 := $t2
                $result1 := $t3
            }

            function A2_M_div_by_zero() -> $result {
                let x, $t1, $t2, $t3
                $t1 := 1
                $t2 := 0
                /// @src 2:2395:2396
                $t3 := $Div($t1, $t2)
                /// @src 2:2393:2398
                $result := $t3
            }

            function A2_M_div_by_zero_u64(x, y) -> $result {
                let $t2
                /// @src 2:2685:2686
                $t2 := $Div(x, y)
                /// @src 2:2683:2688
                $result := $t2
            }

            function A2_M_div_by_zero_u64_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:2533:2534
                $t2 := $Div(x, y)
                /// @src 2:2531:2536
                $result := $t2
            }

            function A2_M_f(x) -> $result {
                let $t1, $t2
                $t1 := 1
                /// @src 2:1543:1544
                $t2 := $AddU64(x, $t1)
                /// @src 2:1542:1545
                $result := $t2
            }

            function A2_M_g(x) -> $result {
                let $t1, $t2
                $t1 := 2
                /// @src 2:1689:1690
                $t2 := $AddU64(x, $t1)
                /// @src 2:1688:1691
                $result := $t2
            }

            function A2_M_h(b) -> $result {
                let tmp_$1, tmp_$2, x, y, $t5, $t6, $t7, $t8, $t9, $t10, $t11, $t12
                let $block := 4
                for {} true {} {
                    switch $block
                    case 2 {
                        y := A2_M_f($t5)
                        /// @src 2:1885:1891
                        $block := 5
                    }
                    case 3 {
                        y := A2_M_g($t5)
                        /// @src 2:1917:1918
                        $block := 5
                    }
                    case 4 {
                        $t5 := 3
                        /// @src 2:1878:1903
                        switch b
                        case 0  { $block := 3 }
                        default { $block := 2 }
                    }
                    case 5 {
                        /// @src 2:1917:1928
                        switch b
                        case 0  { $block := 7 }
                        default { $block := 6 }
                    }
                    case 6 {
                        $t6 := 4
                        /// @src 2:1924:1926
                        tmp_$1 := $Neq(y, $t6)
                        /// @src 2:1917:1928
                        $block := 8
                    }
                    case 7 {
                        $t7 := false
                        /// @src 2:1917:1928
                        tmp_$1 := $t7
                        /// @src 2:1917:1928
                        $block := 8
                    }
                    case 8 {
                        /// @src 2:1913:1937
                        switch tmp_$1
                        case 0  { $block := 10 }
                        default { $block := 9 }
                    }
                    case 9 {
                        $t8 := 4
                        $Abort($t8)
                    }
                    case 10 {
                        /// @src 2:1951:1952
                        $t9 := $LogicalNot(b)
                        /// @src 2:1951:1963
                        switch $t9
                        case 0  { $block := 12 }
                        default { $block := 11 }
                    }
                    case 11 {
                        $t10 := 5
                        /// @src 2:1959:1961
                        tmp_$2 := $Neq(y, $t10)
                        /// @src 2:1951:1963
                        $block := 13
                    }
                    case 12 {
                        $t11 := false
                        /// @src 2:1951:1963
                        tmp_$2 := $t11
                        /// @src 2:1951:1963
                        $block := 13
                    }
                    case 13 {
                        /// @src 2:1947:1972
                        switch tmp_$2
                        case 0  { $block := 15 }
                        default { $block := 14 }
                    }
                    case 14 {
                        $t12 := 5
                        $Abort($t12)
                    }
                    case 15 {
                        /// @src 2:1982:1983
                        $result := y
                        leave
                    }
                }
            }

            function A2_M_multiple_ops(x, y, z) -> $result {
                let $t3, $t4
                /// @src 2:762:763
                $t3 := $MulU64(y, z)
                /// @src 2:758:759
                $t4 := $AddU64(x, $t3)
                /// @src 2:756:765
                $result := $t4
            }

            function A2_M_overflow_u128_add(x, y) -> $result {
                let $t2
                /// @src 2:3810:3811
                $t2 := $AddU128(x, y)
                /// @src 2:3808:3813
                $result := $t2
            }

            function A2_M_overflow_u128_add_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:3634:3635
                $t2 := $AddU128(x, y)
                /// @src 2:3632:3637
                $result := $t2
            }

            function A2_M_overflow_u128_mul(x, y) -> $result {
                let $t2
                /// @src 2:4933:4934
                $t2 := $MulU128(x, y)
                /// @src 2:4931:4936
                $result := $t2
            }

            function A2_M_overflow_u128_mul_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:4774:4775
                $t2 := $MulU128(x, y)
                /// @src 2:4772:4777
                $result := $t2
            }

            function A2_M_overflow_u64_add(x, y) -> $result {
                let $t2
                /// @src 2:3450:3451
                $t2 := $AddU64(x, y)
                /// @src 2:3448:3453
                $result := $t2
            }

            function A2_M_overflow_u64_add_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:3279:3280
                $t2 := $AddU64(x, y)
                /// @src 2:3277:3282
                $result := $t2
            }

            function A2_M_overflow_u64_mul(x, y) -> $result {
                let $t2
                /// @src 2:4590:4591
                $t2 := $MulU64(x, y)
                /// @src 2:4588:4593
                $result := $t2
            }

            function A2_M_overflow_u64_mul_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:4436:4437
                $t2 := $MulU64(x, y)
                /// @src 2:4434:4439
                $result := $t2
            }

            function A2_M_overflow_u8_add(x, y) -> $result {
                let $t2
                /// @src 2:3101:3102
                $t2 := $AddU8(x, y)
                /// @src 2:3099:3104
                $result := $t2
            }

            function A2_M_overflow_u8_add_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:2935:2936
                $t2 := $AddU8(x, y)
                /// @src 2:2933:2938
                $result := $t2
            }

            function A2_M_overflow_u8_mul(x, y) -> $result {
                let $t2
                /// @src 2:4258:4259
                $t2 := $MulU8(x, y)
                /// @src 2:4256:4261
                $result := $t2
            }

            function A2_M_overflow_u8_mul_incorrect(x, y) -> $result {
                let $t2
                /// @src 2:4092:4093
                $t2 := $MulU8(x, y)
                /// @src 2:4090:4095
                $result := $t2
            }

            function A2_M_underflow() -> $result {
                let x, $t1, $t2, $t3
                $t1 := 0
                $t2 := 1
                /// @src 2:2177:2178
                $t3 := $Sub($t1, $t2)
                /// @src 2:2175:2180
                $result := $t3
            }

            function $Abort(code) {
                revert(0, 0) // TODO: convention to store code
            }
            function $AbortBuiltin() {
                $Abort(-1)
            }
            function $AddU64(x, y) -> r {
                if lt(sub(0xffffffffffffffff, x), y) { $AbortBuiltin() }
                r := add(x, y)
            }
            function $MulU64(x, y) -> r {
                if gt(y, div(0xffffffffffffffff, x)) { $AbortBuiltin() }
                r := mul(x, y)
            }
            function $AddU8(x, y) -> r {
                if lt(sub(0xff, x), y) { $AbortBuiltin() }
                r := add(x, y)
            }
            function $MulU8(x, y) -> r {
                if gt(y, div(0xff, x)) { $AbortBuiltin() }
                r := mul(x, y)
            }
            function $AddU128(x, y) -> r {
                if lt(sub(0xffffffffffffffffffffffffffffffff, x), y) { $AbortBuiltin() }
                r := add(x, y)
            }
            function $MulU128(x, y) -> r {
                if gt(y, div(0xffffffffffffffffffffffffffffffff, x)) { $AbortBuiltin() }
                r := mul(x, y)
            }
            function $Sub(x, y) -> r {
                if lt(x, y) { $AbortBuiltin() }
                r := sub(x, y)
            }
            function $Div(x, y) -> r {
                if eq(y, 0) { $AbortBuiltin() }
                r := div(x, y)
            }
            function $Mod(x, y) -> r {
                if eq(y, 0) { $AbortBuiltin() }
                r := mod(x, y)
            }
            function $Gt(x, y) -> r {
                r := gt(x, y)
            }
            function $Lt(x, y) -> r {
                r := lt(x, y)
            }
            function $GtEq(x, y) -> r {
                r := or(gt(x, y), eq(x, y))
            }
            function $LtEq(x, y) -> r {
                r := or(lt(x, y), eq(x, y))
            }
            function $Neq(x, y) -> r {
                r := not(eq(x, y))
            }
            function $LogicalNot(x) -> r {
                r := not(x)
            }
        }
    }
}
